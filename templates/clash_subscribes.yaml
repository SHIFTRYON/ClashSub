# Profile Template for Clash Verge
mixed-port: 7890
allow-lan: true
bind-address: "*"
mode: rule
log-level: info
ipv6: true
external-controller: 127.0.0.1:10000
experimental:
  ignore-resolve-fail: true
sniffer:
  enable: true
  override-destination: true
  force-dns-mapping: true
  parse-pure-ip: true
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    TLS:
      ports: [443, 8443]
      override-destination: true
    QUIC:
      ports: [443, 8443]
      override-destination: true

dns:
  enable: true
  ipv6: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  use-hosts: true
  nameserver-policy:
    +.pphimalayanrt.com: 223.5.5.5
    st.dl.eccdnx.com: 223.5.5.5
    +.tmall.com: 223.5.5.5
    +.taobao.com: 223.5.5.5
    +.alicdn.com: 223.5.5.5
    +.aliyun.com: 223.5.5.5
    +.alipay.com: 223.5.5.5
    +.alibaba.com: 223.5.5.5
    +.qq.com: 119.29.29.29
    +.tencent.com: 119.29.29.29
    +.weixin.com: 119.29.29.29
    +.qpic.cn: 119.29.29.29
    +.jd.com: 119.29.29.29
    +.bilibili.com: 119.29.29.29
    +.hdslb.com: 119.29.29.29
    +.163.com: 119.29.29.29
    +.126.com: 119.29.29.29
    +.126.net: 119.29.29.29
    +.127.net: 119.29.29.29
    +.netease.com: 119.29.29.29
    +.baidu.com: 223.5.5.5
    +.bdstatic.com: 223.5.5.5
    +.iqiyi.com: 119.29.29.29
    +.douyinvod.com: 180.184.1.1
    +.douyin.com: 180.184.1.1
    +.feishu.cn: 180.184.1.1
  default-nameserver: ["223.5.5.5", "1.12.12.12"]
  nameserver:
    - "https://223.5.5.5/dns-query"
    - "https://223.6.6.6/dns-query"
    - "https://120.53.53.53/dns-query"
    - "tls://1.12.12.12:853"
  fallback:
    - "https://101.101.101.101/dns-query"
    - "https://208.67.220.220/dns-query"
  proxy-server-nameserver:
    - "https://doh.pub/dns-query"
    - "https://dns.alidns.com/dns-query"
  fallback-filter:
    geoip: true
    ipcidr: [240.0.0.0/4, 0.0.0.0/32]

proxies:
  - name: "üá∫üá∏ ISP-vless-reality-vision"
    type: vless
    server: 192.204.46.121
    port: 62151
    uuid: 629d955f-ba3f-480f-826c-8a529f30a8b5
    network: tcp
    udp: true
    tls: true
    flow: xtls-rprx-vision
    servername: apple.com
    reality-opts:
      {
        public-key: tm4Yik8KngKqt0Iw-88bhlYL878evTJTaoKDwnaGUVI,
        short-id: 5b3094d9,
      }
    client-fingerprint: chrome

  - name: "üá∫üá∏ Bwh ShadowTLS"
    type: ss
    server: 67.230.179.71
    port: 8884
    cipher: 2022-blake3-aes-128-gcm
    password: "88V1doXhxmpCEiwJV7bVUQ=="
    plugin: shadow-tls
    client-fingerprint: firefox
    plugin-opts:
      {
        host: addons.mozilla.org,
        password: "f90c3a5b-a78f-4be2-b8ee-21b079044057",
        version: 3,
      }
    smux: { enabled: true, protocol: h2mux, max-connections: 8 }

proxy-groups:
  - name: US-ISP
    type: select
    proxies: ["üá∫üá∏ ISP-vless-reality-vision"]

  - name: US-COM-Manual
    type: select
    proxies: ["üá∫üá∏ Bwh ShadowTLS"]

  - name: US-COM-Auto
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    proxies: ["üá∫üá∏ Bwh ShadowTLS"]

  - name: ü§ñ AI & Google
    type: select
    proxies: [US-ISP]

  - name: SSRDOG
    type: select
    proxies: ["üá∫üá∏ ISP-vless-reality-vision", "üá∫üá∏ Bwh ShadowTLS"]

  - name: ‚ñ∂Ô∏è YouTube
    type: select
    proxies: [US-ISP]

  - name: üì≤ ÁîµÊä•‰ø°ÊÅØ
    type: select
    proxies: [SSRDOG]

  - name: üõë ÂÖ®ÁêÉÊã¶Êà™
    type: select
    proxies: [REJECT, DIRECT]

  - name: üêü ÊºèÁΩë‰πãÈ±º
    type: select
    proxies: [SSRDOG, DIRECT]

rules:
  # --- Google Chrome Software & Update Services ---
  - DOMAIN-SUFFIX,dl.google.com,US-ISP
  - DOMAIN-SUFFIX,update.googleapis.com,US-ISP
  - DOMAIN-SUFFIX,tools.google.com,US-ISP
  - DOMAIN-SUFFIX,omahaproxy.appspot.com,US-ISP
  - DOMAIN-SUFFIX,safebrowsing.googleapis.com,US-ISP
  - DOMAIN-SUFFIX,gvt1.com,US-ISP

  # --- Google & Gemini ---
  - RULE-SET,google,US-ISP
  - RULE-SET,gemini,US-ISP
  - DOMAIN,ai.google.dev,US-ISP
  - DOMAIN-SUFFIX,google.com,US-ISP
  - DOMAIN-SUFFIX,googleapis.com,US-ISP
  - DOMAIN-KEYWORD,google,US-ISP

  # --- OpenAI / ChatGPT ---
  - RULE-SET,openai,US-ISP
  - DOMAIN-SUFFIX,openai.com,US-ISP
  - DOMAIN-SUFFIX,chatgpt.com,US-ISP
  - DOMAIN-SUFFIX,oaistatic.com,US-ISP
  - DOMAIN-SUFFIX,oaiusercontent.com,US-ISP

  # --- Claude / Anthropic ---
  - RULE-SET,claude,US-ISP
  - DOMAIN-SUFFIX,anthropic.com,US-ISP
  - DOMAIN-SUFFIX,claude.ai,US-ISP

  # --- Perplexity, Groq, Mistral & xAI ---
  - DOMAIN-SUFFIX,perplexity.ai,US-ISP
  - DOMAIN-SUFFIX,groq.com,US-ISP
  - DOMAIN-SUFFIX,mistral.ai,US-ISP
  - DOMAIN-SUFFIX,x.ai,US-ISP

  # --- Cursor IDE ---
  - DOMAIN-SUFFIX,cursor.sh,US-ISP
  - DOMAIN-SUFFIX,cursor.com,US-ISP
  - DOMAIN-SUFFIX,cursorapi.com,US-ISP
  - PROCESS-NAME,Cursor,US-ISP
  - PROCESS-NAME,cursor,US-ISP

  # --- Other Services (SSRDOG) ---
  - DOMAIN-SUFFIX,proton.me,SSRDOG
  - DOMAIN-SUFFIX,notion.so,SSRDOG
  - DOMAIN-SUFFIX,medium.com,SSRDOG
  - DOMAIN-KEYWORD,bandwagonhost,SSRDOG
  - RULE-SET,proxy,SSRDOG

  # --- Productivity & Direct ---
  - DOMAIN-SUFFIX,wps.cn,DIRECT
  - DOMAIN-SUFFIX,kdocs.cn,DIRECT
  - RULE-SET,applications,DIRECT
  - RULE-SET,apple,DIRECT
  - RULE-SET,icloud,DIRECT

  # --- Geo & Fallback ---
  - RULE-SET,telegramcidr,üì≤ ÁîµÊä•‰ø°ÊÅØ
  - GEOIP,CN,DIRECT
  - GEOIP,LAN,DIRECT
  - MATCH,üêü ÊºèÁΩë‰πãÈ±º

rule-providers:
  google:
    {
      type: http,
      behavior: domain,
      url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/google.txt",
      path: ./ruleset/google.yaml,
      interval: 86400,
    }
  gemini:
    {
      type: http,
      behavior: classical,
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Gemini/Gemini.yaml",
      path: ./ruleset/gemini.yaml,
      interval: 86400,
    }
  openai:
    {
      type: http,
      behavior: classical,
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OpenAI/OpenAI.yaml",
      path: ./ruleset/openai.yaml,
      interval: 86400,
    }
  claude:
    {
      type: http,
      behavior: classical,
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Claude/Claude.yaml",
      path: ./ruleset/claude.yaml,
      interval: 86400,
    }
  proxy:
    {
      type: http,
      behavior: domain,
      url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/proxy.txt",
      path: ./ruleset/proxy.yaml,
      interval: 86400,
    }
  apple:
    {
      type: http,
      behavior: domain,
      url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/apple.txt",
      path: ./ruleset/apple.yaml,
      interval: 86400,
    }
  icloud:
    {
      type: http,
      behavior: domain,
      url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/icloud.txt",
      path: ./ruleset/icloud.yaml,
      interval: 86400,
    }
  telegramcidr:
    {
      type: http,
      behavior: ipcidr,
      url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/telegramcidr.txt",
      path: ./ruleset/telegramcidr.yaml,
      interval: 86400,
    }
  applications:
    {
      type: http,
      behavior: classical,
      url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/applications.txt",
      path: ./ruleset/applications.yaml,
      interval: 86400,
    }
